<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="1. 影响浏览器渲染方式的文档模式每个浏览器都有自己的页面渲染引擎。渲染引擎包括两部分：一部分负责 HTML、CSS 代码的解析（渲染引擎，如 blink 引擎 or 内核），一部分负责 JavaScript 代码的解析（JavaScript 引擎，如 V8 引擎）。浏览器的渲染模式（以何种文档模式进行渲染）主要对 CSS 解析有影响（也对脚本有一些影响）。不同的渲染模式，在 CSS 解析上存在差">
<meta property="og:type" content="article">
<meta property="og:title" content="浏览器的工作原理">
<meta property="og:url" content="https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/index.html">
<meta property="og:site_name" content="Clover Code">
<meta property="og:description" content="1. 影响浏览器渲染方式的文档模式每个浏览器都有自己的页面渲染引擎。渲染引擎包括两部分：一部分负责 HTML、CSS 代码的解析（渲染引擎，如 blink 引擎 or 内核），一部分负责 JavaScript 代码的解析（JavaScript 引擎，如 V8 引擎）。浏览器的渲染模式（以何种文档模式进行渲染）主要对 CSS 解析有影响（也对脚本有一些影响）。不同的渲染模式，在 CSS 解析上存在差">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://gaoshu883.github.io/images/2017-03-broswer/1.png">
<meta property="og:image" content="https://gaoshu883.github.io/images/2017-03-broswer/2.png">
<meta property="og:image" content="https://gaoshu883.github.io/images/2017-03-broswer/3.png">
<meta property="og:image" content="https://gaoshu883.github.io/images/2017-03-broswer/4.png">
<meta property="article:published_time" content="2017-03-18T16:00:00.000Z">
<meta property="article:modified_time" content="2022-06-05T06:53:34.756Z">
<meta property="article:author" content="Wang Xiaolu">
<meta property="article:tag" content="javascript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gaoshu883.github.io/images/2017-03-broswer/1.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/logo.png">
        
      
      
      
    
    <!-- title -->
    <title>浏览器的工作原理</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.1.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2022/05/13/2022-05-13-binary-search/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2017/02/05/2017-02-05-build-a-local-server/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&text=浏览器的工作原理"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&title=浏览器的工作原理"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&is_video=false&description=浏览器的工作原理"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=浏览器的工作原理&body=Check out this article: https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&title=浏览器的工作原理"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&title=浏览器的工作原理"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&title=浏览器的工作原理"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&title=浏览器的工作原理"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&name=浏览器的工作原理&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&t=浏览器的工作原理"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%BD%B1%E5%93%8D%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E6%96%B9%E5%BC%8F%E7%9A%84%E6%96%87%E6%A1%A3%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">1. 影响浏览器渲染方式的文档模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-HTML-%E6%96%87%E6%A1%A3%E7%9A%84%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">2. HTML 文档的解析过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E7%BA%AF-HTML-%E6%96%87%E6%A1%A3%EF%BC%8C%E6%97%A0-CSS-%E5%92%8C%E8%84%9A%E6%9C%AC"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 纯 HTML 文档，无 CSS 和脚本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E5%8C%85%E5%90%AB%E5%86%85%E8%81%94%E6%A0%B7%E5%BC%8F%E5%92%8C%E5%86%85%E8%81%94%E8%84%9A%E6%9C%AC%E7%9A%84-HTML-%E6%96%87%E6%A1%A3"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 包含内联样式和内联脚本的 HTML 文档</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E5%8C%85%E5%90%AB%E5%A4%96%E9%83%A8-CSS-%E5%92%8C%E8%84%9A%E6%9C%AC%E7%9A%84-HTML-%E6%96%87%E6%A1%A3"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 包含外部 CSS 和脚本的 HTML 文档</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-JS-%E8%A7%A3%E9%87%8A%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">3.</span> <span class="toc-text">3. JS 解释器的工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E6%89%AB%E6%8F%8F%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%EF%BC%8C%E7%A1%AE%E5%AE%9A%E6%89%80%E6%9C%89%E5%B7%B2%E5%A3%B0%E6%98%8E%E7%9A%84%E5%8F%98%E9%87%8F%E6%88%96%E5%87%BD%E6%95%B0%E5%90%8D"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 扫描全局变量，确定所有已声明的变量或函数名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C%E6%89%80%E6%9C%89%E8%AF%AD%E5%8F%A5"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 顺序执行所有语句</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text">4. 总结</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        浏览器的工作原理
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Wang Xiaolu</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2017-03-18T16:00:00.000Z" class="dt-published" itemprop="datePublished">2017-03-19</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/Web%E5%89%8D%E7%AB%AF/">Web前端</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/javascript/" rel="tag">javascript</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h3 id="1-影响浏览器渲染方式的文档模式"><a href="#1-影响浏览器渲染方式的文档模式" class="headerlink" title="1. 影响浏览器渲染方式的文档模式"></a>1. 影响浏览器渲染方式的文档模式</h3><p>每个浏览器都有自己的页面渲染引擎。渲染引擎包括两部分：一部分负责 HTML、CSS 代码的解析（渲染引擎，如 blink 引擎 or 内核），一部分负责 JavaScript 代码的解析（JavaScript 引擎，如 V8 引擎）。浏览器的渲染模式（以何种文档模式进行渲染）主要对 CSS 解析有影响（也对脚本有一些影响）。不同的渲染模式，在 CSS 解析上存在差异，比如对盒模型的处理。</p>
<p>不同的渲染模式是历史遗留问题造成的。早期 W3C 没统一标准，浏览器生产商自己决定页面如何渲染；标准出来后，现有浏览器渲染肯定存在与标准不同的地方。为了兼容，就出现了两种浏览器渲染模式（IE 最早提出），正统叫法为文档模式(Document Mode)（如果文档是按照标准编写的，浏览器采用标准渲染模式；如果文档并没有按照标准编写，那么浏览器以怪异模式渲染）。此外，还有第三种模式—近标准模式。那么浏览器又该如何知道文档有没有按照标准编写呢？实际上浏览器在渲染页面之前会检查两个内容，一个是页面是否有 <code>DOCTYPE</code> 信息，另外一个是页面是否有 <code>x-ua-compatible</code> 信息。<code>DOCTYPE</code> 告诉浏览器我的文档是哪种模式，你确定后，就按这种模式渲染；如果没有这个头信息，浏览器就按怪异模式渲染。<code>x-ua-compatible</code> 是 IE8 的一个专有<code>&lt;meta&gt;</code>属性，可以指定浏览器以怎样的模式进行渲染。</p>
<p><strong>注意：</strong>浏览器模式和浏览器渲染模式是两个概念，后者在本文中指文档模式。</p>
<h3 id="2-HTML-文档的解析过程"><a href="#2-HTML-文档的解析过程" class="headerlink" title="2. HTML 文档的解析过程"></a>2. HTML 文档的解析过程</h3><p>当用户在浏览器键入某网站地址，网站首页文档 <code>index.html</code> 加载完成后，浏览器开始解析 HTML。下文根据不同的 HTML 资源结构分析解析过程。</p>
<h4 id="2-1-纯-HTML-文档，无-CSS-和脚本"><a href="#2-1-纯-HTML-文档，无-CSS-和脚本" class="headerlink" title="2.1 纯 HTML 文档，无 CSS 和脚本"></a>2.1 纯 HTML 文档，无 CSS 和脚本</h4><p>如果 HTML 文档中只有 HTML，没有 CSS 和脚本的话，问题极其简单。浏览器解析 HTML，构建 DOM 树，DOM 树构建完成后（触发 <code>DOMContentLoaded</code> 事件），构建 render 树，接着布局和绘制像素。</p>
<h4 id="2-2-包含内联样式和内联脚本的-HTML-文档"><a href="#2-2-包含内联样式和内联脚本的-HTML-文档" class="headerlink" title="2.2 包含内联样式和内联脚本的 HTML 文档"></a>2.2 包含内联样式和内联脚本的 HTML 文档</h4><p>如果 HTML 文档中存在内联样式和脚本，这个时候，问题变得稍微复杂一些。浏览器解析 HTML，构建 DOM 树，当解析到<code>&lt;style&gt;</code>标签时，样式信息开始被解析，CSSOM 被构建，但是它并不会影响到 HTML 的解析和 DOM 树的构建。当 HTML 解析到<code>&lt;script&gt;</code>标签时，因为脚本有可能改变 DOM 内容，所以 HTML 的解析必须等到脚本执行完毕后再继续。脚本又有可能操作 CSSOM ，所以脚本必须等到 CSS 解析完毕后才能执行。确保此刻 CSS 解析完成，脚本被交到 JS 引擎手里，由 JS 引擎执行。当脚本执行完毕，HTML 继续解析，直到全部 HTML 解析完毕，DOM 树构建完成（触发 <code>DOMContentLoaded</code> 事件）。</p>
<p><strong>注意：</strong><code>DOMContentLoaded</code> 事件只和 HTML 的加载和解析有关，一旦 HTML 解析完成，这个事件就会被触发，不管此时还有没有CSS的解析、图片的下载或者异步脚本的加载和执行。DOM 树一旦构建完成，就会开始构建 render 树，并不管 CSS 是否解析完毕。如果构建 render 树的时候，CSS 还没有解析完成，那么 render 树会用占位符代替应该有的 CSSOM 节点，当该节点加载解析好后，再重新计算样式。</p>
<p>但是同步脚本的执行会阻塞 HTML 的解析，从而会影响到 <code>DOMContentLoaded</code> 事件的触发。同时又要注意，CSS 会阻塞 JS 脚本的执行，从而间接影响到 HTML 的解析和 <code>DOMContentLoaded</code> 事件的触发。</p>
<h4 id="2-3-包含外部-CSS-和脚本的-HTML-文档"><a href="#2-3-包含外部-CSS-和脚本的-HTML-文档" class="headerlink" title="2.3 包含外部 CSS 和脚本的 HTML 文档"></a>2.3 包含外部 CSS 和脚本的 HTML 文档</h4><p>如果 HTML 文档中存在外联样式表和脚本，问题变得更复杂一点。HTML 文档加载完成后，浏览器首先扫描 HTML 文档，查看有哪些外部资源需要启动 network operation 来请求资源，并在 HTML 解析的同时，发送所有的请求。CSS 资源加载完毕后，会立即开始解析构建 CSSOM。（同步脚本加载完毕后，并不能立刻执行。）当 HTML 解析到<code>&lt;script&gt;</code>标签，先确认脚本加载完毕了没。如果没，那得等；如果加载好了，还得看 CSS 解析好了没。如果没，那还得等；如果 CSS 解析好了，那就能把脚本交给 JS 引擎去执行了。当 JS 执行完毕，HTML 继续解析，DOM 继续构建，直到全部构建完成，<code>DOMContentLoaded</code> 事件被触发。紧接着，就是构建 render 树。</p>
<p>如果脚本有<code>async</code>属性，问题就又不一样了。<code>async</code>属性默认该脚本不会影响到 DOM 内容，所以只要脚本下载完成，（相关）CSS 解析完毕，脚本立刻执行，不用等着 HTML 解析到<code>&lt;script&gt;</code>标签再开始执行。同样，HTML 也不会等着脚本执行完毕再解析。仿佛两者看不到对方，只管做自己的事情就行了。</p>
<h3 id="3-JS-解释器的工作原理"><a href="#3-JS-解释器的工作原理" class="headerlink" title="3. JS 解释器的工作原理"></a>3. JS 解释器的工作原理</h3><p>上文提到浏览器在解析 HTML 文档的时候，会把脚本交给 JS 引擎执行，那么 JS 引擎是如何执行脚本(evaluating script)的呢？</p>
<h4 id="3-1-扫描全局变量，确定所有已声明的变量或函数名"><a href="#3-1-扫描全局变量，确定所有已声明的变量或函数名" class="headerlink" title="3.1 扫描全局变量，确定所有已声明的变量或函数名"></a>3.1 扫描全局变量，确定所有已声明的变量或函数名</h4><p>你如果利用 chrome 控制台调试 JS 代码，这个过程是看不到的，但确实存在。JS 解释器对脚本进行全局扫描，结束后得到全局环境中的变量对象，此过程发生了变量声明提升和函数声明提升。所有变量都没被赋值，其值为 <code>undefined</code>；函数声明提升还包括了函数体的提升。下图是个例子：</p>
<p><img src="/images/2017-03-broswer/1.png" alt="全局环境中的变量对象"></p>
<h4 id="3-2-顺序执行所有语句"><a href="#3-2-顺序执行所有语句" class="headerlink" title="3.2 顺序执行所有语句"></a>3.2 顺序执行所有语句</h4><p>当 JS 解释器知道整个文件中都有哪些声明好的全局变量或函数后，就会开始顺序执行文件中的语句，当然是从第一行开始。如果是赋值语句，就执行赋值操作；如果是函数调用语句，就执行函数调用。<br>下图是 debugger 刚开始时变量的情况，很明显，刚刚被 JS 解释器点过名，还没有开始执行赋值操作。</p>
<p><img src="/images/2017-03-broswer/2.png" alt="变量声明提升"></p>
<p>当解释器移动到下一行代码时，这个变量也就被赋值，存储了数据。在本例中这个数据是个对象类型，有两个属性，其中一个是数组，另一个是空值。</p>
<p><img src="/images/2017-03-broswer/3.png" alt="变量赋值操作"></p>
<p>脚本的最后是函数调用语句：</p>
<p><img src="/images/2017-03-broswer/4.png" alt="函数调用"></p>
<p>JS 解析器执行到这里，开始调用 octopus 的 init 方法。</p>
<p>当所有的语句执行完毕后，JS 解释器任务结束，主导权交到 HTML 解析器手中，浏览器继续解析 HTML 文档。</p>
<p>从上述过程，我们能看出浏览器解析渲染 HTML 文档是单线程的，除了发送外部资源请求的操作。</p>
<h3 id="4-总结"><a href="#4-总结" class="headerlink" title="4. 总结"></a>4. 总结</h3><p>浏览器的工作原理是网站性能优化的基础知识。CSS 不会阻塞 HTML 的解析，但是会阻塞渲染，CSS 的解析会阻塞脚本的执行，而脚本会阻塞 HTML 的解析。</p>
<p>后续会推出网站性能优化相关文章。</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a href="/about/">About</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%BD%B1%E5%93%8D%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E6%96%B9%E5%BC%8F%E7%9A%84%E6%96%87%E6%A1%A3%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">1. 影响浏览器渲染方式的文档模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-HTML-%E6%96%87%E6%A1%A3%E7%9A%84%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">2. HTML 文档的解析过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E7%BA%AF-HTML-%E6%96%87%E6%A1%A3%EF%BC%8C%E6%97%A0-CSS-%E5%92%8C%E8%84%9A%E6%9C%AC"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 纯 HTML 文档，无 CSS 和脚本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E5%8C%85%E5%90%AB%E5%86%85%E8%81%94%E6%A0%B7%E5%BC%8F%E5%92%8C%E5%86%85%E8%81%94%E8%84%9A%E6%9C%AC%E7%9A%84-HTML-%E6%96%87%E6%A1%A3"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 包含内联样式和内联脚本的 HTML 文档</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E5%8C%85%E5%90%AB%E5%A4%96%E9%83%A8-CSS-%E5%92%8C%E8%84%9A%E6%9C%AC%E7%9A%84-HTML-%E6%96%87%E6%A1%A3"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 包含外部 CSS 和脚本的 HTML 文档</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-JS-%E8%A7%A3%E9%87%8A%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">3.</span> <span class="toc-text">3. JS 解释器的工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E6%89%AB%E6%8F%8F%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%EF%BC%8C%E7%A1%AE%E5%AE%9A%E6%89%80%E6%9C%89%E5%B7%B2%E5%A3%B0%E6%98%8E%E7%9A%84%E5%8F%98%E9%87%8F%E6%88%96%E5%87%BD%E6%95%B0%E5%90%8D"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 扫描全局变量，确定所有已声明的变量或函数名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C%E6%89%80%E6%9C%89%E8%AF%AD%E5%8F%A5"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 顺序执行所有语句</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text">4. 总结</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&text=浏览器的工作原理"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&title=浏览器的工作原理"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&is_video=false&description=浏览器的工作原理"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=浏览器的工作原理&body=Check out this article: https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&title=浏览器的工作原理"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&title=浏览器的工作原理"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&title=浏览器的工作原理"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&title=浏览器的工作原理"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&name=浏览器的工作原理&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://gaoshu883.github.io/2017/03/19/2017-03-19-how-browser-works/&t=浏览器的工作原理"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2023
    Wang Xiaolu
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
