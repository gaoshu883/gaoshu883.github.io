---
layout: post
title: "JavaScript之OOP基础概念学习总结二：closure"
date: 2016-11-21
category: ['javascript','OOP','udacity']
---


闭包，我觉得并不具体指哪个函数，还是一种状态，也就是说当实际出现了满足闭包的状态时，我们就说这个是闭包。所以不能简单地把闭包理解成某个函数，毕竟看了那么多的资料，也没有感觉到到底应该把哪个函数称作闭包，最多也就是把回调函数叫做闭包。但仍有问题，因为我在用Chrome开发者工具进行JavaScript代码调试时发现，解释器将回调函数定义时所在的外层函数称为闭包。所以，我觉得闭包并不具体指哪个函数，而是指一种状态：
**当一个函数cb在另一个函数outer内定义，但也可以在outer函数之外调用（通常都是在global scope中进行调用），那么这种情况就叫做闭包。**很明显，这个状态其实一共牵涉到两个主要函数，被调用的函数，以及函数被定义时的外层函数。


之所以闭包会是大家一个关注的重点，是因为JavaScript语言中，闭包结构设计的便利性。这门语言规定，你在定义域之外进行函数的调用，依然可以访问到原定义域中的变量（这种情况便是闭包效应）。也就是说，即使外层函数已经返回，按道理（一般情况下）也就失去了存在的意义，但是JavaScript允许闭包效应，所以你还是可以继续访问到外层函数中定义的变量，从而使得一切变得简单起来。


当然也会有不好的地方，比如，闭包存在，肯定会占用更多的内存空间。这是因为，既然你能够继续访问到原则上已经失去意义的外层函数，说明外层函数的内存占用并没有被标记作废。所以，原本要被清除的空间依旧存在，无形中就占用了更多的内存空间，会影响到程序运行时的性能。


总结：闭包效应是JavaScript语言设计中的必然存在，是有意为之的语言结构。